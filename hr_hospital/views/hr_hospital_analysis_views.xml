<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="hr_hospital_analysis_view_form" model="ir.ui.view">
        <field name="name">hr.hospital.analysis.form</field>
        <field name="model">hr_hospital.analysis</field>
        <field name="arch" type="xml">
            <form string="Medical Analysis">
                <sheet>
                    <group>
                        <field name="patient_id"/>
                        <field name="doctor_id"/>
                        <field name="analysis_date"/>
                        <field name="sample_type"/>
                        <field name="result" widget="text"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="hr_hospital_analysis_view_tree" model="ir.ui.view">
        <field name="name">hr.hospital.analysis.tree</field>
        <field name="model">hr_hospital.analysis</field>
        <field name="arch" type="xml">
            <tree string="Medical Analyses">
                <field name="patient_id"/>
                <field name="doctor_id"/>
                <field name="sample_type" widget="statusbar"/>
                <field name="analysis_date"/>
            </tree>
        </field>
    </record>

    <record id="hr_hospital_analysis_view_search" model="ir.ui.view">
        <field name="name">hr.hospital.analysis.search</field>
        <field name="model">hr_hospital.analysis</field>
        <field name="arch" type="xml">
            <search string="Search Analysis">

                <!-- Find by firstname and lastname simulateonsly-->
                <field name="patient_first_name" string="Patient Name"
                    filter_domain="['|', ('patient_first_name', 'ilike', self), ('patient_last_name', 'ilike', self)]"/>
                <!-- Find by phonenumber -->
                <field name="patient_phone" string="Patient Phone"/>
                <filter name="groupby_sample_type" string="Sample type" context="{'group_by': 'sample_type'}"/>
            </search>
        </field>
    </record>

    <record id="hr_hospital_analysis_view_pivot" model="ir.ui.view">
        <field name="name">hr_hospital.analysis.pivot</field>
        <field name="model">hr_hospital.analysis</field>
        <field name="arch" type="xml">
            <pivot string="Analysis">
                <field name="doctor_id" type="row"/>
                <field name="sample_type" type="col"/>
                <!-- <field name="id" type="measure" operator="count"/> -->
            </pivot>
        </field>
    </record>

</odoo>
